{"ast":null,"code":"import _slicedToArray from\"D:/Code/prod/board-game-front-prod/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"D:/Code/prod/board-game-front-prod/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/* Base */import{createContext,useReducer}from\"react\";/* I. Specifying Types for State, Dispatch and Action for Context and Reducer initialization*/ /* I.1.A. Context State Type */import{jsx as _jsx}from\"react/jsx-runtime\";export var initialState={username:sessionStorage.getItem(\"sessionName\")};/* I.1.B. Dispatch Types */var AuthType;(function(AuthType){AuthType[\"LOGIN\"]=\"LOGIN\";AuthType[\"LOGOUT\"]=\"LOGOUT\";})(AuthType||(AuthType={}));export var doLogin=function doLogin(username){return{type:AuthType.LOGIN,username:username};};export var doLogout=function doLogout(){return{type:AuthType.LOGOUT};};/* II. Reducer */export var authReducer=function authReducer(state,action){switch(action.type){case AuthType.LOGIN:var username=action.username;return _objectSpread(_objectSpread({},state),{},{username:username});case AuthType.LOGOUT:return _objectSpread(_objectSpread({},state),{},{username:null});default:return state;}};/* III. Context */export var AuthContext=/*#__PURE__*/createContext({state:initialState,dispatch:function dispatch(){return null;}});export var AuthContextProvider=function AuthContextProvider(_ref){var children=_ref.children;var _useReducer=useReducer(authReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];console.log('AuthContext state:',state);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{state:state,dispatch:dispatch},children:children});};","map":{"version":3,"names":["createContext","useReducer","initialState","username","sessionStorage","getItem","AuthType","doLogin","type","LOGIN","doLogout","LOGOUT","authReducer","state","action","AuthContext","dispatch","AuthContextProvider","children","console","log"],"sources":["D:/Code/prod/board-game-front-prod/src/contexts/AuthContext.tsx"],"sourcesContent":["/* Base */\r\nimport { createContext, useReducer } from \"react\"\r\n\r\n\r\n/* I. Specifying Types for State, Dispatch and Action for Context and Reducer initialization*/\r\n/* I.1.A. Context State Type */\r\ntype contextState = {\r\n    username: string | null;\r\n};\r\n\r\nexport const initialState: contextState = {\r\n    username: sessionStorage.getItem(\"sessionName\"),\r\n};\r\n\r\n\r\n/* I.1.B. Dispatch Types */\r\nenum AuthType {\r\n    LOGIN = 'LOGIN',\r\n    LOGOUT = 'LOGOUT'\r\n}\r\n\r\ntype LoginAction = {\r\n    type: typeof AuthType.LOGIN\r\n    username: string\r\n}\r\n\r\ntype LogoutAction = {\r\n    type: typeof AuthType.LOGOUT\r\n}\r\n\r\n\r\n/* I.1.C. Action Types */\r\ntype AuthAction = LoginAction | LogoutAction \r\n\r\nexport const doLogin = (username: string): AuthAction => ({\r\n    type: AuthType.LOGIN,\r\n    username\r\n})\r\n\r\nexport const doLogout = (): AuthAction => ({\r\n    type: AuthType.LOGOUT,\r\n})\r\n\r\n\r\n\r\n/* II. Reducer */\r\nexport const authReducer = (state: contextState, action: AuthAction): contextState => {\r\n    switch(action.type) {\r\n        case AuthType.LOGIN:\r\n            const { username } = action\r\n            return { ...state, username }\r\n        case AuthType.LOGOUT:\r\n            return { ...state, username: null }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\n\r\n/* III. Context */\r\nexport const AuthContext = createContext<{ \r\n    state: contextState, dispatch: React.Dispatch<AuthAction> \r\n}>({ \r\n    state: initialState, dispatch: () => null \r\n})\r\n\r\n\r\nexport const AuthContextProvider = ({ children }: any) => {\r\n\r\n    const [state, dispatch] = useReducer(authReducer, initialState)\r\n    console.log('AuthContext state:', state)\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ state, dispatch }}>\r\n            { children }\r\n        </AuthContext.Provider>\r\n    )\r\n\r\n}"],"mappings":"+OAAA,UACA,OAASA,aAAa,CAAEC,UAAU,KAAQ,OAAO,CAGjD,+FACA,0EAKA,MAAO,IAAMC,aAA0B,CAAG,CACtCC,QAAQ,CAAEC,cAAc,CAACC,OAAO,CAAC,aAAa,CAClD,CAAC,CAGD,8BACKC,SAAQ,WAARA,QAAQ,EAARA,QAAQ,kBAARA,QAAQ,uBAARA,QAAQ,GAARA,QAAQ,MAkBb,MAAO,IAAMC,QAAO,CAAG,QAAVA,QAAO,CAAIJ,QAAgB,QAAkB,CACtDK,IAAI,CAAEF,QAAQ,CAACG,KAAK,CACpBN,QAAQ,CAARA,QACJ,CAAC,EAAC,CAEF,MAAO,IAAMO,SAAQ,CAAG,QAAXA,SAAQ,SAAsB,CACvCF,IAAI,CAAEF,QAAQ,CAACK,MACnB,CAAC,EAAC,CAIF,iBACA,MAAO,IAAMC,YAAW,CAAG,QAAdA,YAAW,CAAIC,KAAmB,CAAEC,MAAkB,CAAmB,CAClF,OAAOA,MAAM,CAACN,IAAI,EACd,IAAKF,SAAQ,CAACG,KAAK,CACf,GAAQN,SAAQ,CAAKW,MAAM,CAAnBX,QAAQ,CAChB,sCAAYU,KAAK,MAAEV,QAAQ,CAARA,QAAQ,GAC/B,IAAKG,SAAQ,CAACK,MAAM,CAChB,sCAAYE,KAAK,MAAEV,QAAQ,CAAE,IAAI,GACrC,QACI,MAAOU,MAAK,EAExB,CAAC,CAID,kBACA,MAAO,IAAME,YAAW,cAAGf,aAAa,CAErC,CACCa,KAAK,CAAEX,YAAY,CAAEc,QAAQ,CAAE,0BAAM,KAAI,EAC7C,CAAC,CAAC,CAGF,MAAO,IAAMC,oBAAmB,CAAG,QAAtBA,oBAAmB,MAA0B,IAApBC,SAAQ,MAARA,QAAQ,CAE1C,gBAA0BjB,UAAU,CAACW,WAAW,CAAEV,YAAY,CAAC,4CAAxDW,KAAK,iBAAEG,QAAQ,iBACtBG,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAEP,KAAK,CAAC,CAExC,mBACI,KAAC,WAAW,CAAC,QAAQ,EAAC,KAAK,CAAE,CAAEA,KAAK,CAALA,KAAK,CAAEG,QAAQ,CAARA,QAAS,CAAE,UAC3CE,QAAQ,EACS,CAG/B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}