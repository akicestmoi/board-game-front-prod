{"ast":null,"code":"import _slicedToArray from\"D:/Code/prod/board-game-front-prod/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* Base */import{useState}from'react';import{useNavigate,Link}from'react-router-dom';import axios from'axios';/* Authentication Context */import{useAuthContext}from'../../hooks/useAuthContext';import{doLogin}from'../../contexts/AuthContext';/* Bootstrap */import{Button,Form,Card,Container,Modal}from'react-bootstrap';/* Styling */import'./Signup.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Signup(){/* Declaring State Object and Constant variables */var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),emailError=_useState8[0],setEmailError=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),usernameError=_useState10[0],setUsernameError=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),passwordError=_useState12[0],setPasswordError=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),generalError=_useState14[0],setGeneralError=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),showError=_useState16[0],setShowError=_useState16[1];var _useAuthContext=useAuthContext(),dispatch=_useAuthContext.dispatch;var url='http://localhost:8000/user/signup';var navigate=useNavigate();/* Declaring Event handler */var handleSubmit=function handleSubmit(e){e.preventDefault();axios.post(url,{email:email,username:username,password:password}).then(function(res){console.log('Login successful!');console.log('Response:',res);dispatch(doLogin(username));sessionStorage.setItem(\"sessionName\",username);navigate('/');}).catch(function(err){setShowError(true);if(err.response){/* The request was made and the server responded with a status code that falls out of the range of 2xx */console.log(err.response.data.error);setEmailError(err.response.data.error.email);setUsernameError(err.response.data.error.username);setPasswordError(err.response.data.error.password);}else if(err.request){/* The request was made but no response was received */console.log(err.request);setGeneralError(err.request);}else{/* Something happened in setting up the request that triggered an Error */console.log(err.message);setGeneralError(err.message);}console.log(err.config);});};var errorMessage=emailError+\"hello\";/* Render */return/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"signup_page\",children:[/*#__PURE__*/_jsxs(Card,{className:\"signup_form_card\",children:[/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{className:\"signup_form_title\",children:\"Create an account\"}),/*#__PURE__*/_jsxs(Form,{className:\"signup_form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"signup_form_input\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"signup_form_label\",children:\"Email:\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter email\",onChange:function onChange(e){return setEmail(e.target.value);},value:email})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"signup_form_input\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"signup_form_label\",children:\"Username:\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter username\",onChange:function onChange(e){return setUsername(e.target.value);},value:username})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"signup_form_input\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"signup_form_label\",children:\"Password:\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Enter password\",onChange:function onChange(e){return setPassword(e.target.value);},value:password})]}),/*#__PURE__*/_jsx(Button,{className:\"signup_submit_button\",variant:\"primary\",type:\"submit\",children:\"Sign up\"})]})]}),/*#__PURE__*/_jsxs(Card.Footer,{className:\"signup_card_footer\",children:[\" Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"}),\" \"]})]}),/*#__PURE__*/_jsxs(Modal,{className:\"error_modal\",show:showError,onHide:function onHide(){return setShowError(false);},children:[/*#__PURE__*/_jsxs(Modal.Header,{children:[\"Error\",/*#__PURE__*/_jsx(\"button\",{className:\"error_modal_close\",onClick:function onClick(){return setShowError(false);},children:\"X\"})]}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(_Fragment,{children:[generalError,\" \",generalError&&/*#__PURE__*/_jsx(\"br\",{}),emailError&&\"Email: \",\" \",emailError,\" \",emailError&&/*#__PURE__*/_jsx(\"br\",{}),usernameError&&\"Username: \",\" \",usernameError,\" \",usernameError&&/*#__PURE__*/_jsx(\"br\",{}),passwordError&&\"Password: \",\" \",passwordError]})})]})]});}","map":{"version":3,"names":["useState","useNavigate","Link","axios","useAuthContext","doLogin","Button","Form","Card","Container","Modal","Signup","email","setEmail","username","setUsername","password","setPassword","emailError","setEmailError","usernameError","setUsernameError","passwordError","setPasswordError","generalError","setGeneralError","showError","setShowError","dispatch","url","navigate","handleSubmit","e","preventDefault","post","then","res","console","log","sessionStorage","setItem","catch","err","response","data","error","request","message","config","errorMessage","target","value"],"sources":["D:/Code/prod/board-game-front-prod/src/pages/signup/Signup.tsx"],"sourcesContent":["/* Base */\r\nimport { useState } from 'react'\r\nimport { useNavigate, Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\n/* Authentication Context */\r\nimport { useAuthContext } from '../../hooks/useAuthContext'\r\nimport { doLogin } from '../../contexts/AuthContext'\r\n\r\n/* Bootstrap */\r\nimport { Button, Form, Card, Container, Modal } from 'react-bootstrap'\r\n\r\n/* Styling */\r\nimport './Signup.css'\r\n\r\n\r\n\r\nexport default function Signup() {\r\n\r\n    /* Declaring State Object and Constant variables */\r\n    const [ email, setEmail ] = useState<string>(\"\")\r\n    const [ username, setUsername ] = useState<string>(\"\")\r\n    const [ password, setPassword ] = useState<string>(\"\")\r\n    const [ emailError, setEmailError ] = useState<string | null>(null)\r\n    const [ usernameError, setUsernameError ] = useState<string | null>(null)\r\n    const [ passwordError, setPasswordError ] = useState<string | null>(null)\r\n    const [ generalError, setGeneralError ] = useState<string | null>(null)\r\n    const [ showError, setShowError ] = useState<boolean>(false)\r\n\r\n    const { dispatch } = useAuthContext()\r\n\r\n    const url = 'http://localhost:8000/user/signup'\r\n\r\n    const navigate = useNavigate()\r\n\r\n\r\n    /* Declaring Event handler */\r\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n\r\n        e.preventDefault()\r\n        \r\n        axios.post(url, {email, username, password})\r\n            .then((res) => {\r\n\r\n                console.log('Login successful!')\r\n                console.log('Response:', res)\r\n\r\n                dispatch(doLogin(username))\r\n                sessionStorage.setItem(\"sessionName\", username)\r\n                navigate('/')\r\n\r\n            })\r\n            .catch((err) => {\r\n                setShowError(true)\r\n                if (err.response) {\r\n                    /* The request was made and the server responded with a status code that falls out of the range of 2xx */\r\n                    console.log(err.response.data.error)\r\n                    setEmailError(err.response.data.error.email)\r\n                    setUsernameError(err.response.data.error.username)\r\n                    setPasswordError(err.response.data.error.password)\r\n\r\n                } else if (err.request) {\r\n                    /* The request was made but no response was received */\r\n                    console.log(err.request)\r\n                    setGeneralError(err.request)\r\n\r\n                } else {\r\n                    /* Something happened in setting up the request that triggered an Error */\r\n                    console.log(err.message)\r\n                    setGeneralError(err.message)\r\n                }\r\n                console.log(err.config)\r\n            });\r\n    }\r\n\r\n\r\n    const errorMessage: string | null = emailError + \"hello\"\r\n\r\n    /* Render */\r\n    return (\r\n        <Container fluid className=\"signup_page\">\r\n\r\n            <Card className=\"signup_form_card\">\r\n                <Card.Body>\r\n                    <Card.Title className=\"signup_form_title\">Create an account</Card.Title>\r\n                    <Form className=\"signup_form\" onSubmit={handleSubmit}>\r\n                        <Form.Group className=\"signup_form_input\">\r\n                            <Form.Label className=\"signup_form_label\">Email:</Form.Label>\r\n                            <Form.Control \r\n                                type=\"email\" \r\n                                placeholder='Enter email'\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                                value={email}\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        \r\n                        <Form.Group className=\"signup_form_input\">\r\n                            <Form.Label className=\"signup_form_label\">Username:</Form.Label>\r\n                            <Form.Control \r\n                                type=\"text\" \r\n                                placeholder='Enter username'\r\n                                onChange={(e) => setUsername(e.target.value)}\r\n                                value={username}\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group className=\"signup_form_input\">\r\n                            <Form.Label className=\"signup_form_label\">Password:</Form.Label>\r\n                            <Form.Control \r\n                                type=\"password\" \r\n                                placeholder='Enter password'\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                                value={password}\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Button className=\"signup_submit_button\" variant='primary' type=\"submit\">Sign up</Button>\r\n\r\n                    </Form> \r\n                </Card.Body>\r\n                <Card.Footer className=\"signup_card_footer\"> Already have an account? {<Link to=\"/login\">Login</Link>} </Card.Footer>\r\n            </Card>\r\n            \r\n            <Modal className=\"error_modal\" show={showError} onHide={() => setShowError(false)}>\r\n                <Modal.Header>Error<button className=\"error_modal_close\" onClick={()=>setShowError(false)}>X</button></Modal.Header>\r\n\r\n                <Modal.Body>\r\n                    <>\r\n                        {generalError} { generalError && <br/> }\r\n                        { emailError && \"Email: \" } {emailError} { emailError && <br/> }\r\n                        { usernameError && \"Username: \" } {usernameError} { usernameError && <br/> }\r\n                        { passwordError && \"Password: \" } {passwordError}\r\n                    </>\r\n                </Modal.Body>\r\n            </Modal>\r\n        </Container>        \r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}