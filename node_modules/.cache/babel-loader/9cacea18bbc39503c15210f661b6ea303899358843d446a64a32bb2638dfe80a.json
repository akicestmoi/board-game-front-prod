{"ast":null,"code":"import _toConsumableArray from\"D:/Code/prod/board-game-front-prod/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/Code/prod/board-game-front-prod/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* Base */import{useState,useEffect,useRef}from'react';import{useParams,useNavigate}from'react-router-dom';/* Context */import{useAuthContext}from\"../../hooks/useAuthContext\";/* Hooks */import useTictactoeLog from'../../hooks/useTictactoeLog';/* Bootstrap */import{Container,Col,Row,Card,Modal,ListGroup,Button}from'react-bootstrap';/* Styling */import'./Tictactoe.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Square(_ref){var squareColId=_ref.squareColId,squareRowId=_ref.squareRowId,squareValue=_ref.squareValue,handleClick=_ref.handleClick;return/*#__PURE__*/_jsx(\"button\",{className:\"square\",onClick:function onClick(e){return handleClick(e,squareColId,squareRowId);},children:squareValue});}export default function Tictactoe(){var boardSize=useRef(0);var initialBoardState=useRef([]);var initialSquareMatrix=useRef([]);var colId=useRef([]);var rowId=useRef([]);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isInitialized=_useState2[0],setIsInitialized=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),squareMatrix=_useState4[0],setSquareMatrix=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),backendMessage=_useState6[0],setBackendMessage=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showError=_useState8[0],setShowError=_useState8[1];var _useTictactoeLog=useTictactoeLog(backendMessage),gameStatus=_useTictactoeLog.gameStatus,gameLog=_useTictactoeLog.gameLog,error=_useTictactoeLog.error;var _useAuthContext=useAuthContext(),state=_useAuthContext.state;var _useParams=useParams(),id=_useParams.id;var ws=useRef(null);var ws_url=\"ws://127.0.0.1:8000/ws/tictactoe/\"+id;var navigate=useNavigate();var initializeBoard=function initializeBoard(jsonData){boardSize.current=jsonData.board_size;colId.current=Array.from(Array(boardSize.current).keys());rowId.current=Array.from(Array(boardSize.current).keys());initialBoardState.current=jsonData.board_status;initialSquareMatrix.current=Array.from({length:boardSize.current},function(){return Array.from({length:boardSize.current},function(){return\"\";});});initializeSquareMatrix();setIsInitialized(true);};var initializeSquareMatrix=function initializeSquareMatrix(){initialBoardState.current.map(function(square){initialSquareMatrix.current[square.col_id][square.row_id]=square.value;});setSquareMatrix(initialSquareMatrix.current);};var changeSquareValue=function changeSquareValue(colId,rowId,value){var tmp=_toConsumableArray(squareMatrix);tmp[colId][rowId]=value;setSquareMatrix(tmp);};useEffect(function(){ws.current=new WebSocket(ws_url);ws.current.onopen=function(){if(!ws.current){return;};console.log(\"Websocket connection opened\");ws.current.send(JSON.stringify({message_category:\"management\",details:\"connect\",username:state.username}));};ws.current.onclose=function(){if(!ws.current){return;};console.log(\"Websocket connection closed\");};var wsCurrent=ws.current;return function(){wsCurrent.close();};},[ws_url]);useEffect(function(){if(!ws.current){return;}ws.current.onmessage=function(res){var jsonData=JSON.parse(res.data);setBackendMessage(jsonData);console.log(jsonData);if(jsonData.status===\"success\"&&jsonData.type===\"game_system\"&&jsonData.data.category!=\"game_leave\"){initializeBoard(jsonData.data.board_status);}if(jsonData.status===\"success\"&&jsonData.type===\"in_game\"){changeSquareValue(jsonData.data.col_id,jsonData.data.row_id,jsonData.data.value);}if(jsonData.status===\"error\"){setShowError(true);}};},[isInitialized,squareMatrix,backendMessage]);var _handleClick=function handleClick(e,squareColId,squareRowId){if(!ws.current){console.log(\"No WebSocket Connection\");return;};var username=state.username;ws.current.send(JSON.stringify({message_category:\"game\",username:username,col_id:squareColId,row_id:squareRowId}));};var goToLobby=function goToLobby(e){navigate(\"/tictactoe/lobby/\"+state.username);};return/*#__PURE__*/_jsxs(Container,{fluid:true,children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"board\",children:[!isInitialized&&/*#__PURE__*/_jsx(\"h1\",{children:\"Loading...\"}),isInitialized&&_toConsumableArray(Array(boardSize.current)).map(function(e,i){return/*#__PURE__*/_jsx(\"div\",{className:\"board_row\",children:_toConsumableArray(Array(boardSize.current)).map(function(e,j){return/*#__PURE__*/_jsx(Square,{squareColId:colId.current[j],squareRowId:rowId.current[i],squareValue:squareMatrix[j][i],handleClick:function handleClick(e){return _handleClick(e,colId.current[j],rowId.current[i]);}},j);})},i);})]})}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsxs(Card,{className:\"game_status\",children:[/*#__PURE__*/_jsx(Card.Header,{children:\"Game Details\"}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{className:\"tictactoe_list_item\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"status_list_title\",children:\"Game Status\"}),gameStatus.gameOver&&gameStatus.isDraw&&\"Draw\",gameStatus.gameOver&&!gameStatus.isDraw&&\"Game over\",!gameStatus.gameOver&&\"Game on\"]})}),/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"tictactoe_list_item\",children:[!gameStatus.gameOver&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"status_list_title\",children:\"Current Turn\"}),gameStatus.currentTurn]}),gameStatus.gameOver&&!gameStatus.isDraw&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"status_list_title\",children:\"Winner\"}),gameStatus.gameWinner]})]})]})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{className:\"tictactoe_list_item\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"status_list_title\",children:\"First Player\"}),gameStatus.firstPlayer]})}),/*#__PURE__*/_jsx(ListGroup.Item,{className:\"tictactoe_list_item\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"status_list_title\",children:\"Second Player\"}),!gameStatus.secondPlayer&&\"Waiting for an opponent to join\",gameStatus.secondPlayer]})})]})})]})}),/*#__PURE__*/_jsx(Button,{className:\"back_button\",onClick:goToLobby,children:\"Go back to Lobby\"})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"game_log\",children:[/*#__PURE__*/_jsx(Card.Header,{children:\"Log\"}),/*#__PURE__*/_jsx(Card.Body,{className:\"scroll\",children:/*#__PURE__*/_jsx(ListGroup,{variant:\"flush\",children:gameLog.map(function(log,i){return/*#__PURE__*/_jsx(ListGroup.Item,{className:\"tictactoe_list_item\",children:log},i);})})})]})]})]}),/*#__PURE__*/_jsxs(Modal,{className:\"error_modal\",show:showError,onHide:function onHide(){return setShowError(false);},children:[/*#__PURE__*/_jsxs(Modal.Header,{children:[\"Error\",/*#__PURE__*/_jsx(\"button\",{className:\"error_modal_close\",onClick:function onClick(){return setShowError(false);},children:\"X\"})]}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(_Fragment,{children:error})})]})]});}","map":{"version":3,"names":["useState","useEffect","useRef","useParams","useNavigate","useAuthContext","useTictactoeLog","Container","Col","Row","Card","Modal","ListGroup","Button","Square","squareColId","squareRowId","squareValue","handleClick","e","Tictactoe","boardSize","initialBoardState","initialSquareMatrix","colId","rowId","isInitialized","setIsInitialized","squareMatrix","setSquareMatrix","backendMessage","setBackendMessage","showError","setShowError","gameStatus","gameLog","error","state","id","ws","ws_url","navigate","initializeBoard","jsonData","current","board_size","Array","from","keys","board_status","length","initializeSquareMatrix","map","square","col_id","row_id","value","changeSquareValue","tmp","WebSocket","onopen","console","log","send","JSON","stringify","message_category","details","username","onclose","wsCurrent","close","onmessage","res","parse","data","status","type","category","goToLobby","i","j","gameOver","isDraw","currentTurn","gameWinner","firstPlayer","secondPlayer"],"sources":["D:/Code/prod/board-game-front-prod/src/pages/tictactoe/Tictactoe.tsx"],"sourcesContent":["/* Base */\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\n\r\n/* Context */\r\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\r\n\r\n/* Hooks */\r\nimport useTictactoeLog from '../../hooks/useTictactoeLog';\r\n\r\n/* Bootstrap */\r\nimport { Container, Col, Row, Card, Modal, ListGroup, Button } from 'react-bootstrap';\r\n\r\n/* Styling */\r\nimport './Tictactoe.css'\r\n\r\n\r\ninterface IBackEndSquareProp {\r\n    col_id: number,\r\n    row_id: number,\r\n    value: string\r\n}\r\n\r\n\r\ninterface IFrontEndSquareProp {\r\n    squareColId: number,\r\n    squareRowId: number,\r\n    squareValue: string,\r\n    handleClick: (e:React.MouseEvent<HTMLButtonElement>, squareColId: number, squareRowId: number) => void\r\n}\r\n\r\n\r\ninterface IInitializationData {\r\n    board_size: number,\r\n    board_status: IBackEndSquareProp[]\r\n}\r\n\r\n\r\nfunction Square( {squareColId, squareRowId, squareValue, handleClick }: IFrontEndSquareProp )  {\r\n    return(\r\n        <button className='square' onClick={(e) => handleClick(e, squareColId, squareRowId)}>\r\n            {squareValue}\r\n        </button>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default function Tictactoe() {\r\n\r\n    const boardSize = useRef<number>(0)\r\n    const initialBoardState = useRef<IBackEndSquareProp[]>([])\r\n    const initialSquareMatrix = useRef<string[][]>([]);\r\n    const colId = useRef<number[]>([])\r\n    const rowId = useRef<number[]>([])\r\n\r\n    const [ isInitialized, setIsInitialized ] = useState<boolean>(false)\r\n    const [ squareMatrix, setSquareMatrix ] = useState<string[][]>([])\r\n\r\n    const [ backendMessage, setBackendMessage ] = useState<any>(null)\r\n    const [ showError, setShowError ] = useState<boolean>(false)\r\n    const { gameStatus, gameLog, error } = useTictactoeLog(backendMessage)\r\n\r\n    const { state } = useAuthContext()\r\n    const { id } = useParams()\r\n    const ws = useRef<WebSocket | null>(null)\r\n    const ws_url: string = \"ws://127.0.0.1:8000/ws/tictactoe/\" + id\r\n    const navigate = useNavigate()\r\n\r\n\r\n    const initializeBoard = (jsonData: IInitializationData) => {\r\n        boardSize.current = jsonData.board_size\r\n        colId.current = Array.from(Array(boardSize.current).keys())\r\n        rowId.current = Array.from(Array(boardSize.current).keys())\r\n        initialBoardState.current = jsonData.board_status\r\n        initialSquareMatrix.current = Array.from({length: boardSize.current},()=> Array.from({length: boardSize.current}, () => \"\"))\r\n        initializeSquareMatrix()\r\n        setIsInitialized(true)\r\n    }\r\n\r\n\r\n    const initializeSquareMatrix = () => {\r\n        initialBoardState.current.map((square: IBackEndSquareProp) => {\r\n            initialSquareMatrix.current[square.col_id][square.row_id] = square.value\r\n        })\r\n        setSquareMatrix(initialSquareMatrix.current)\r\n    }\r\n\r\n\r\n    const changeSquareValue = (colId : number, rowId: number, value: string) => {\r\n        let tmp = [ ...squareMatrix ];\r\n        tmp[colId][rowId] = value\r\n        setSquareMatrix(tmp);\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        ws.current = new WebSocket(ws_url);\r\n\r\n        ws.current.onopen = () => {\r\n            if (!ws.current) {return};\r\n            console.log(\"Websocket connection opened\")\r\n            ws.current.send(JSON.stringify({message_category: \"management\", details: \"connect\", username: state.username}))\r\n        }\r\n            \r\n        ws.current.onclose = () => {\r\n            if (!ws.current) {return};\r\n            console.log(\"Websocket connection closed\")\r\n        }\r\n\r\n        const wsCurrent = ws.current;\r\n\r\n        return () => {\r\n            wsCurrent.close();\r\n        };\r\n\r\n    }, [ws_url])\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if (!ws.current) {return}\r\n\r\n        ws.current.onmessage = function (res: MessageEvent) {\r\n\r\n            const jsonData = JSON.parse(res.data);\r\n            setBackendMessage(jsonData)\r\n            console.log(jsonData)\r\n\r\n            if (jsonData.status === \"success\" && jsonData.type === \"game_system\" && jsonData.data.category != \"game_leave\") {\r\n                initializeBoard(jsonData.data.board_status)\r\n            }\r\n            if (jsonData.status === \"success\" && jsonData.type === \"in_game\") {\r\n                changeSquareValue(jsonData.data.col_id, jsonData.data.row_id, jsonData.data.value)\r\n            }\r\n            if (jsonData.status === \"error\") {\r\n                setShowError(true)\r\n            }\r\n\r\n        }\r\n\r\n    }, [isInitialized, squareMatrix, backendMessage])\r\n\r\n    \r\n    \r\n    const handleClick = (e:React.MouseEvent<HTMLButtonElement>, squareColId: number, squareRowId: number) => {     \r\n\r\n        if (!ws.current) {console.log(\"No WebSocket Connection\"); return};\r\n        const username: string | null = state.username\r\n        ws.current.send(JSON.stringify({message_category: \"game\", username: username, col_id: squareColId, row_id: squareRowId}));\r\n    }\r\n\r\n\r\n    const goToLobby = (e:React.MouseEvent<HTMLButtonElement>) => {\r\n        navigate(\"/tictactoe/lobby/\" + state.username)\r\n    }\r\n\r\n\r\n    return(\r\n        <Container fluid>\r\n            <Row>\r\n                <Col>\r\n                    <div className='board'>\r\n                        { !isInitialized && <h1>Loading...</h1> }\r\n                        { isInitialized && [ ...Array(boardSize.current) ].map((e, i) => \r\n                            <div className='board_row' key={i}>\r\n                                { [ ...Array(boardSize.current) ].map((e, j) => \r\n                                    <Square \r\n                                        key={j}\r\n                                        squareColId={colId.current[j]} \r\n                                        squareRowId={rowId.current[i]} \r\n                                        squareValue={squareMatrix[j][i]}\r\n                                        handleClick={(e) => handleClick(e, colId.current[j], rowId.current[i])}\r\n                                    />\r\n                                )}\r\n                            </div>\r\n                        )}                        \r\n                    </div>\r\n                </Col>\r\n                <Col>\r\n                    <Card className='game_status'>\r\n                        <Card.Header>Game Details</Card.Header>\r\n                        <Card.Body>\r\n                            <Container>\r\n                                <Row>\r\n                                    <Col>\r\n                                        <ListGroup variant=\"flush\">\r\n                                            <ListGroup.Item className=\"tictactoe_list_item\">\r\n                                                <div>\r\n                                                    <div className=\"status_list_title\">Game Status</div> \r\n                                                    { gameStatus.gameOver && gameStatus.isDraw && \"Draw\" }\r\n                                                    { gameStatus.gameOver && !gameStatus.isDraw && \"Game over\" }\r\n                                                    { !gameStatus.gameOver && \"Game on\" }\r\n                                                </div>\r\n                                            </ListGroup.Item>\r\n                                            <ListGroup.Item className=\"tictactoe_list_item\">\r\n                                                { !gameStatus.gameOver && \r\n                                                    <div>\r\n                                                        <div className=\"status_list_title\">Current Turn</div>\r\n                                                        { gameStatus.currentTurn }\r\n                                                    </div>\r\n                                                }\r\n                                                { gameStatus.gameOver && \r\n                                                    !gameStatus.isDraw && \r\n                                                        <div>\r\n                                                            <div className=\"status_list_title\">Winner</div> \r\n                                                            { gameStatus.gameWinner }\r\n                                                        </div>\r\n                                                }\r\n                                            </ListGroup.Item>\r\n                                        </ListGroup>\r\n                                    </Col>\r\n                                    <Col>\r\n                                        <ListGroup variant=\"flush\">\r\n                                            <ListGroup.Item className=\"tictactoe_list_item\">\r\n                                                <div>\r\n                                                    <div className=\"status_list_title\">First Player</div> \r\n                                                    {gameStatus.firstPlayer}\r\n                                                </div>\r\n                                            </ListGroup.Item>\r\n                                            <ListGroup.Item className=\"tictactoe_list_item\">\r\n                                                <div>\r\n                                                    <div className=\"status_list_title\">Second Player</div> \r\n                                                        { !gameStatus.secondPlayer && \"Waiting for an opponent to join\"}\r\n                                                        { gameStatus.secondPlayer }\r\n                                                </div>\r\n                                            </ListGroup.Item>\r\n                                        </ListGroup>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Container>\r\n \r\n                            <Button className=\"back_button\" onClick={goToLobby}>Go back to Lobby</Button>\r\n                            \r\n                        </Card.Body>\r\n                    </Card>\r\n                    <Card className='game_log'>      \r\n                        <Card.Header>Log</Card.Header>\r\n                        <Card.Body className=\"scroll\">\r\n                            <ListGroup variant=\"flush\">\r\n                                { gameLog.map((log, i) => \r\n                                    <ListGroup.Item className=\"tictactoe_list_item\" key={i}>{log}</ListGroup.Item>                                \r\n                                )}\r\n                            </ListGroup>\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Col>\r\n            </Row>\r\n            <Modal className=\"error_modal\" show={showError} onHide={() => setShowError(false)}>\r\n                <Modal.Header>Error<button className=\"error_modal_close\" onClick={()=>setShowError(false)}>X</button></Modal.Header>\r\n                <Modal.Body>\r\n                    <>\r\n                        { error }\r\n                    </>\r\n                </Modal.Body>\r\n            </Modal>\r\n        </Container> \r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}